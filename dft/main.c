/*
 * Filename: main.c
 * Author: Volkan Salma
 * Created: 16.11.2015
 */
 
#include <stdio.h>
#include <math.h>

#include "dft.h"

int main()
{
	/*
	float sampleInterval = 1.0 / 44100; //s
	int sampleCnt = 0;
	float sampleTime; 
	float freq = 100.0; //hz
	float period = 1.0 / freq; //s
	
	for (sampleCnt = 0; sampleCnt < (period / sampleInterval); sampleCnt++)
	{
		sampleTime = (sampleCnt * sampleInterval);
		//printf ("%d;(%fs):%f, \n",sampleCnt, sampleTime, sin( 2 * M_PI * freq * sampleTime));
		printf ("%f, ", sin( 2 * M_PI * freq * sampleTime));
	} 
	*/
	
	float samples[441] = {0.000000, 0.014247, 0.028491, 0.042730, 0.056959, 0.071178, 0.085381, 0.099568, 0.113734, 0.127877, 0.141994, 0.156083, 0.170139, 0.184161, 0.198146, 0.212091, 0.225992, 0.239848, 0.253655, 0.267410, 0.281111, 0.294755, 0.308339, 0.321861, 0.335317, 0.348706, 0.362023, 0.375267, 0.388435, 0.401524, 0.414531, 0.427454, 0.440291, 0.453038, 0.465693, 0.478254, 0.490718, 0.503082, 0.515343, 0.527501, 0.539551, 0.551491, 0.563320, 0.575034, 0.586632, 0.598111, 0.609468, 0.620701, 0.631808, 0.642788, 0.653636, 0.664352, 0.674933, 0.685378, 0.695683, 0.705846, 0.715867, 0.725742, 0.735470, 0.745049, 0.754476, 0.763750, 0.772869, 0.781831, 0.790635, 0.799278, 0.807759, 0.816076, 0.824227, 0.832211, 0.840026, 0.847670, 0.855143, 0.862442, 0.869565, 0.876513, 0.883282, 0.889872, 0.896281, 0.902509, 0.908553, 0.914413, 0.920087, 0.925574, 0.930874, 0.935984, 0.940905, 0.945634, 0.950172, 0.954517, 0.958668, 0.962624, 0.966385, 0.969950, 0.973318, 0.976488, 0.979460, 0.982234, 0.984808, 0.987182, 0.989355, 0.991328, 0.993100, 0.994670, 0.996038, 0.997204, 0.998167, 0.998928, 0.999486, 0.999841, 0.999994, 0.999943, 0.999689, 0.999233, 0.998573, 0.997711, 0.996646, 0.995379, 0.993910, 0.992239, 0.990367, 0.988294, 0.986020, 0.983546, 0.980872, 0.977999, 0.974928, 0.971659, 0.968192, 0.964529, 0.960670, 0.956617, 0.952369, 0.947927, 0.943294, 0.938468, 0.933453, 0.928248, 0.922854, 0.917273, 0.911506, 0.905554, 0.899418, 0.893099, 0.886599, 0.879920, 0.873061, 0.866025, 0.858814, 0.851428, 0.843870, 0.836140, 0.828240, 0.820172, 0.811938, 0.803539, 0.794977, 0.786253, 0.777370, 0.768329, 0.759132, 0.749781, 0.740278, 0.730625, 0.720823, 0.710875, 0.700782, 0.690548, 0.680173, 0.669660, 0.659011, 0.648228, 0.637314, 0.626271, 0.615100, 0.603805, 0.592386, 0.580848, 0.569192, 0.557420, 0.545535, 0.533539, 0.521435, 0.509225, 0.496912, 0.484498, 0.471986, 0.459377, 0.446676, 0.433884, 0.421004, 0.408038, 0.394989, 0.381861, 0.368654, 0.355373, 0.342020, 0.328598, 0.315108, 0.301555, 0.287940, 0.274268, 0.260539, 0.246757, 0.232926, 0.219047, 0.205124, 0.191159, 0.177155, 0.163115, 0.149042, 0.134939, 0.120809, 0.106654, 0.092477, 0.078282, 0.064070, 0.049846, 0.035611, 0.021370, 0.007124, -0.007124, -0.021370, -0.035611, -0.049846, -0.064070, -0.078282, -0.092477, -0.106653, -0.120809, -0.134939, -0.149042, -0.163115, -0.177155, -0.191159, -0.205124, -0.219047, -0.232926, -0.246757, -0.260539, -0.274268, -0.287940, -0.301555, -0.315108, -0.328598, -0.342020, -0.355373, -0.368654, -0.381861, -0.394989, -0.408038, -0.421003, -0.433884, -0.446676, -0.459377, -0.471986, -0.484498, -0.496912, -0.509225, -0.521435, -0.533539, -0.545535, -0.557420, -0.569192, -0.580848, -0.592386, -0.603804, -0.615100, -0.626271, -0.637314, -0.648228, -0.659011, -0.669660, -0.680173, -0.690548, -0.700782, -0.710874, -0.720823, -0.730624, -0.740278, -0.749781, -0.759132, -0.768329, -0.777370, -0.786253, -0.794977, -0.803539, -0.811938, -0.820172, -0.828240, -0.836140, -0.843870, -0.851428, -0.858814, -0.866025, -0.873061, -0.879919, -0.886599, -0.893099, -0.899418, -0.905554, -0.911506, -0.917273, -0.922854, -0.928247, -0.933453, -0.938468, -0.943294, -0.947927, -0.952369, -0.956617, -0.960670, -0.964529, -0.968192, -0.971659, -0.974928, -0.977999, -0.980872, -0.983546, -0.986020, -0.988294, -0.990367, -0.992239, -0.993910, -0.995379, -0.996646, -0.997711, -0.998573, -0.999233, -0.999689, -0.999943, -0.999994, -0.999841, -0.999486, -0.998928, -0.998167, -0.997204, -0.996038, -0.994670, -0.993100, -0.991328, -0.989355, -0.987182, -0.984808, -0.982234, -0.979461, -0.976488, -0.973318, -0.969950, -0.966385, -0.962624, -0.958668, -0.954517, -0.950172, -0.945634, -0.940905, -0.935984, -0.930874, -0.925574, -0.920087, -0.914413, -0.908553, -0.902509, -0.896281, -0.889872, -0.883282, -0.876512, -0.869565, -0.862442, -0.855143, -0.847670, -0.840026, -0.832211, -0.824227, -0.816076, -0.807759, -0.799278, -0.790635, -0.781832, -0.772869, -0.763750, -0.754476, -0.745048, -0.735470, -0.725742, -0.715867, -0.705847, -0.695683, -0.685378, -0.674933, -0.664352, -0.653636, -0.642788, -0.631809, -0.620701, -0.609468, -0.598111, -0.586632, -0.575034, -0.563320, -0.551491, -0.539551, -0.527501, -0.515344, -0.503082, -0.490718, -0.478254, -0.465693, -0.453038, -0.440291, -0.427454, -0.414532, -0.401524, -0.388435, -0.375267, -0.362023, -0.348706, -0.335317, -0.321861, -0.308339, -0.294756, -0.281111, -0.267410, -0.253655, -0.239848, -0.225992, -0.212091, -0.198146, -0.184161, -0.170140, -0.156083, -0.141995, -0.127877, -0.113734, -0.099568, -0.085381, -0.071178, -0.056960, -0.042730, -0.028492, -0.014247};
	float coeff_reel[441];
	float coeff_img[441]; 
	int i;

	dft(samples, 441, coeff_reel, coeff_img);
/*
	for(i = 0; i < 441; i++){
		printf("%f\n" , (44100 / 441.0)*i);
	}
	*/
	
	for(i = 0; i < 441; i++){
		printf("%f\n" , sqrt(coeff_reel[i]*coeff_reel[i] + coeff_img[i]*coeff_img[i]));
	}
	

	return 0;
}
